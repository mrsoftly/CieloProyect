<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar sesión</title>
    <!-- Agregar el link de Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
    
    <form class="login-form" method="POST">
        {% csrf_token %}
        <div class="flex-row">
            <label class="lf--label" for="username">
                <!-- Icono para el campo de correo -->
            </label>
            <input id="username" class="lf--input" placeholder="Usuario" type="text" name="username" required>
        </div>
        <div class="flex-row">
            <label class="lf--label" for="password">
                <!-- Icono para el campo de contraseña -->
            </label>
            <input id="password" class="lf--input" placeholder="Contraseña" type="password" name="password" required>
        </div>
        <input class="lf--submit" type="submit" value="INICIAR SESION">
    </form>
    <!-- Mostrar mensajes de éxito o error -->
    {% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            <p>{{ message }}</p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
{% endif %}


    <!-- Scripts de Bootstrap (debe incluirse justo antes de cerrar el body) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
          // Buscar mensajes de éxito y error por sus IDs o clases
          var successMessage = document.getElementById('successMessage');
          var errorMessage = document.getElementById('errorMessage');
          
          if (successMessage || errorMessage) {
              // Determinar qué modal mostrar según el mensaje encontrado
              var modalId = successMessage ? 'loginSuccessModal' : 'loginErrorModal';
              var messageModal = new bootstrap.Modal(document.getElementById(modalId), {
                  keyboard: false
              });
              messageModal.show();  // Muestra el modal correspondiente
          }
      });
  </script>
  
  
  

</body>
</html>

<style>
    /* Variables */
:root {
  --left-color: #242e4d;
  --right-color: #897e79;
  --green-dark: #35c3c1;
  --green-light: #00d6b7;
  --gray: #8f8f8f;
  --gray-light: #f5f6f8;
}

/* Reset and Base Styles */
* {
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  height: 100%;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  position: relative;
  
  background-image:url('https://static.vecteezy.com/system/resources/previews/013/928/544/non_2x/abstract-white-and-gray-elegant-background-vector.jpg');
  font-family: 'Roboto', helvetica, arial, sans-serif;
  font-size: 1.5em;
}

/* Noise Background Effect */
body::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image:url('https://static.vecteezy.com/system/resources/previews/013/928/544/non_2x/abstract-white-and-gray-elegant-background-vector.jpg');
  opacity: 0.3;
}

/* Login Form */
.login-form {
  width: 100%;
  padding: 2em;
  position: relative;
  background: rgba(0, 0, 0, 0.15);
  
  &::before {
    content: '';
    position: absolute;
    top: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    
    background: linear-gradient(
      to right,
      var(--green-dark),
      var(--green-light)
    );    
  }
  
  @media screen and (min-width: 600px) {
    width: 50vw;
    max-width: 15em;
  }
}

/* Form Elements */
.flex-row {
  display: flex;
  margin-bottom: 1em;
}

.lf--label {
  width: 2em;
  display: flex;
  align-items: center;
  justify-content: center;
  
  background: var(--gray-light);
  cursor: pointer;
}

.lf--input {
  flex: 1;
  padding: 1em;
  border: 0;
  color: var(--black);
  font-size: 1rem;

  &:focus {
    outline: none;
    transform: scale(1.1);
    transition: transform 0.15s ease;
  }
}

.lf--submit {
  display: block;
  width: 100%;
  padding: 1em;
  
  background: linear-gradient(
    to right,
    var(--green-dark),
    var(--green-light)
  );
  border: 0;
  color: #fff;
  cursor: pointer;
  font-size: 0.75em;
  font-weight: 600;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
  
  &:focus {
    outline: none;
    transform: scale(1.1);
    transition: transform 0.15s ease;
  }
}

.lf--forgot {
  margin-top: 1em;
  color: var(--green-light);
  font-size: 0.65em;
  text-align: center;
  position: relative;
}

/* Placeholder Styling */
::placeholder {
  color: var(--gray);
}
</style>
</html>
